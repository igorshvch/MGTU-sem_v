# 18. [Документоориентированные СУБД: примеры](#документоориентированные-субд-примеры). [CAP-теорема (теорема Брюера)](#cap-теорема-теорема-брюера). [ACID и BASE как следствия теоремы Брюера](#acid-и-base-как-следствия-теоремы-брюера). [Модель "согласованность в конечном счёте": что означает, примеры применения, достоинства и недостатки](#модель-согласованность-в-конечном-счёте-что-означает-примеры-применения-достоинства-и-недостатки)

## Документоориентированные СУБД: примеры

![Примеры БД](pics/018_001.PNG)

### MongoDB

- NoSQL документоориентированная СУБД
- Февраль 2009 – первая версия
- Исходный код: [https://github.com/mongodb/mongo](https://github.com/mongodb/mongo)
- Поддержка ОС: Windows Vista+, Linux, OS X 10.7+, Solaris, FreeBSD
- Возможности:
  - Запросы
  - Индексация
  - Репликация
  - Балансировка нагрузки
  - Файловое хранилище
  - Агрегация данных
  - Исполнение JavaScript на сервере
  - Коллекции с фиксированным размером
  - Транзакции в пределах одного документа
  - Междокументные транзакции (версия 4.0, июнь 2018)

![Терминология MongoDB](pics/018_002.PNG)

- Формат хранения и передачи данных – BSON (бинарный JSON)

## CAP-теорема (теорема Брюера)

## ACID и BASE как следствия теоремы Брюера

## Модель "согласованность в конечном счёте": что означает, примеры применения, достоинства и недостатки

### Понятие распределенной системы и модели согласованности

**Распределенная система** - на базовом уровне это совокупность ЭВМ, подключенных к единой сети, которые работают вместе, образуя единую машину для конечного пользователя. Все эти распределенные машины имеют одно общее состояние и работают одновременно. Применительно к **БД** - это база данных, составные части которой размещаются в различных узлах компьютерной сети в соответствии с каким-либо критерием.

[**Модель согласованности**](https://ru.wikipedia.org/wiki/%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C_%D1%81%D0%BE%D0%B3%D0%BB%D0%B0%D1%81%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8) - это подход, используемый в той или иной распределённой системе (распределённой общей памяти, **СУБД**, файловой системе), для обеспечения гарантий согласованности данных.

### "Согласованность в конечном счете"

Это одна из моделей согласованности, используемая в распределённых системах для достижения высокой доступности, в рамках которой гарантируется, что в отсутствии изменений данных, через какой-то промежуток времени после последнего обновления («в конечном счёте») все запросы будут возвращать последнее обновлённое значение. Реализует оптимистичную репликацию.
